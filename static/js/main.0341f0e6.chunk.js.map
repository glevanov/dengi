{"version":3,"sources":["components/EditAccount/edit-button.svg","components/DeleteAccount/delete-button.svg","components/CurrencyIcon/RUB.svg","components/CurrencyIcon/USD.svg","components/CurrencyIcon/EUR.svg","store.js","currency.js","components/Total/Total.js","components/Icon/Icon.js","components/EditAccount/EditAccount.js","components/DeleteAccount/DeleteAccount.js","components/CurrencyIcon/CurrencyIcon.js","components/AccountDetails/AccountDetails.js","components/Accounts/Accounts.js","components/Button/Button.js","components/StatusMessage/StatusMessage.js","components/Rates/Rates.js","components/CurrencyChart/CurrencyChart.js","components/Overview/Overview.js","components/Input/Input.js","components/EditForm/EditForm.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","store","accounts","rates","USD","EUR","localStorage","setItem","JSON","stringify","this","getItem","concat","Object","toConsumableArray","parse","key","value","parseFloat","_this","fetch","then","response","json","data","Valute","Value","index","slice","saveAccounts","account","observable","getTotal","currency","rate","filter","it","reduce","acc","amount","getTotalRUB","getTotalUSD","getTotalEUR","formatNum","num","toLocaleString","minimumFractionDigits","maximumFractionDigits","getPercentage","total","result","Number","isNaN","Infinity","Total","react_default","a","createElement","className","React","Component","decorate","computed","observer","Icon","_ref","color","elementClass","children","onClick","classes","defaultProps","EditAccount","react_router_dom","to","aria-label","Icon_Icon","src","editIcon","alt","width","height","DeleteAccount","deleteAccount","deleteIcon","CurrencyIcon","RUB","selectImage","AccountDetails","type","custodian","list","map","CurrencyIcon_CurrencyIcon","components_AccountDetails_AccountDetails","EditAccount_EditAccount","DeleteAccount_DeleteAccount","Button","title","StatusMessage","message","Rates","CurrencyChart","style","percentageRUB","percentageUSD","percentageEUR","Overview","loadAccounts","loadRates","Total_Total_Total","components_StatusMessage_StatusMessage","length","CurrencyChart_CurrencyChart_CurrencyChart","components_Accounts_Accounts","components_Button_Button","components_Rates_Rates","Input","autoComplete","autoFocus","disabled","label","min","name","onChange","placeholder","readOnly","required","step","EditForm","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleInputChange","evt","target","setState","state","objectSpread","defineProperty","handleAdd","updateAccount","addAccount","readyToSubmit","match","params","react_router","Input_Input","text-decoration","App","exact","path","component","render","App_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.0341f0e6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/edit-button.a041973f.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-button.1e0a35ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/RUB.a9d45a22.svg\";","module.exports = __webpack_public_path__ + \"static/media/USD.58921271.svg\";","module.exports = __webpack_public_path__ + \"static/media/EUR.1d59ac9e.svg\";","import {observable} from 'mobx/lib/mobx';\n\nconst key = 'dengi';\n\nconst store = {\n  accounts: [],\n  rates: {\n    USD: null,\n    EUR: null,\n  },\n};\n\nstore.saveAccounts = function () {\n  localStorage.setItem(key, JSON.stringify(this.accounts));\n};\n\nstore.loadAccounts = function() {\n  if (localStorage.getItem(key)) {\n    this.accounts = [].concat(\n      [...JSON.parse(localStorage.getItem(key), function (key, value) {\n        if (key === \"amount\") {\n          return parseFloat(value);\n        }\n        return value;\n      })]\n    )\n  }\n};\n\nstore.loadRates = function() {\n  const URL = 'https://www.cbr-xml-daily.ru/daily_json.js';\n  fetch(URL)\n    .then(response => response.json())\n    .then((data) => {\n      this.rates.USD = data.Valute.USD.Value;\n      this.rates.EUR = data.Valute.EUR.Value;\n    });\n};\n\nstore.deleteAccount = function (index) {\n  this.accounts = [].concat(\n    this.accounts.slice(0, index),\n    this.accounts.slice(index + 1)\n  );\n  this.saveAccounts();\n};\n\nstore.addAccount = function (account) {\n  this.accounts = [...this.accounts, account];\n  this.saveAccounts();\n};\n\nstore.updateAccount = function (account, index) {\n  this.accounts = [].concat(\n    this.accounts.slice(0, index),\n    account,\n    this.accounts.slice(index + 1)\n  );\n  this.saveAccounts();\n};\n\nexport default observable(store);\n","const getTotal = (accounts, currency, rate) => rate * accounts\n  .filter(it => it.currency === currency)\n  .reduce((acc, it) => it.amount + acc, 0);\n\nexport const getTotalRUB = accounts => getTotal(accounts, 'RUB', 1);\nexport const getTotalUSD = (accounts, rate) => getTotal(accounts, 'USD', rate);\nexport const getTotalEUR = (accounts, rate) => getTotal(accounts, 'EUR', rate);\n\nexport const formatNum = num => num\n  .toLocaleString('ru-RU', {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n  });\n\nexport const getPercentage = (num, total) => {\n  const result = num / total * 100;\n  if (Number.isNaN(result) || result === Infinity) {\n    return 0;\n  }\n  return result;\n};\n","import React from 'react';\nimport store from 'store';\nimport {observer} from 'mobx-react';\nimport {decorate, computed} from 'mobx';\nimport './Total.css';\nimport {getTotalRUB, getTotalUSD, getTotalEUR, formatNum} from 'currency';\n\nexport default class Total extends React.Component {\n  get total() {\n    return formatNum(\n      getTotalRUB(store.accounts)\n      + getTotalUSD(store.accounts, store.rates.USD)\n      + getTotalEUR(store.accounts, store.rates.EUR)\n    );\n  }\n\n  render() {\n    return (\n      <section className=\"total\">\n        <span className=\"total__text\">Итого:</span>\n        {`₽ ${this.total}`}\n      </section>\n    )\n  }\n}\n\ndecorate(Total, {\n  total: computed,\n  Total: observer,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Icon.css';\n\nIcon.propTypes = {\n  color: PropTypes.string,\n  elementClass: PropTypes.string,\n  children: PropTypes.node,\n  onClick: PropTypes.func,\n};\n\nIcon.defaultProps = {\n  color: 'primary',\n};\n\nexport default function Icon(\n  {\n    color,\n    elementClass,\n    children,\n    onClick,\n  }\n) {\n  let classes = 'icon';\n  classes += ` icon--color-${color}`;\n  if (elementClass) {\n    classes += ` ${elementClass}`;\n  }\n\n  return (\n    <div\n      className={classes}\n      onClick={onClick}\n    >\n      {children}\n    </div>\n  )\n};\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/Icon';\nimport editIcon from \"./edit-button.svg\";\n\nEditAccount.propTypes = {\n  index: PropTypes.number.isRequired,\n  elementClass: PropTypes.string,\n};\n\nfunction EditAccount(\n  {\n    index,\n    elementClass,\n  }\n) {\n  return (\n    <Link\n      to={`/edit/${index}`}\n      aria-label=\"Редактировать\"\n      className={elementClass}\n    >\n      <Icon\n        children={\n          <img src={editIcon}\n               alt=\"Редактировать\"\n               width=\"17\"\n               height=\"auto\"\n          />\n        }\n      />\n    </Link>\n  )\n}\n\nexport default EditAccount;\n","import React from 'react';\nimport store from 'store';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/Icon';\nimport deleteIcon from './delete-button.svg'\n\nDeleteAccount.propTypes = {\n  index: PropTypes.number.isRequired,\n  elementClass: PropTypes.string,\n};\n\nfunction DeleteAccount(\n  {\n    index,\n    elementClass,\n  }\n) {\n  const handleDelete = () => {\n    store.deleteAccount(index);\n  };\n\n  return (\n    <Icon\n      color={'error'}\n      elementClass={elementClass}\n      onClick={handleDelete}\n      children={\n        <img src={deleteIcon}\n             alt=\"Удалить счет\"\n             width=\"17\"\n             height=\"auto\"\n        />\n      }\n    />\n  )\n}\n\nexport default DeleteAccount;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/Icon';\nimport RUB from './RUB.svg';\nimport USD from './USD.svg';\nimport EUR from './EUR.svg';\n\nCurrencyIcon.propTypes = {\n  currency: PropTypes.string.isRequired,\n};\n\nfunction CurrencyIcon(\n  {\n    currency,\n  }\n) {\n  const selectImage = (currency) => {\n    switch(currency) {\n      case 'RUB':\n        return RUB;\n      case 'USD':\n        return USD;\n      case 'EUR':\n        return EUR;\n      default:\n        return currency;\n    }\n  };\n\n  return (\n    <Icon\n      children={\n        <img src={selectImage(currency)}\n             alt={`Код валюты: ${currency}`}\n             width=\"auto\"\n             height=\"22\"\n        />\n      }\n    />\n  )\n}\n\nexport default CurrencyIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AccountDetails.css';\nimport {formatNum} from 'currency';\n\nAccountDetails.propTypes = {\n  amount: PropTypes.number.isRequired,\n  type: PropTypes.string,\n  custodian: PropTypes.string,\n  elementClass: PropTypes.string,\n};\n\nfunction AccountDetails(\n  {\n    amount,\n    type,\n    custodian,\n    elementClass,\n  }\n) {\n  let classes = 'account-details';\n  if (elementClass) {\n    classes += ` ${elementClass}`;\n  }\n\n  return (\n    <p className={classes}>\n      <span className=\"account-details__amount\">{formatNum(amount)}</span>\n      <span className=\"account-details__details\">\n        {type && custodian\n          ? `${type} в ${custodian}`\n          : `${type}${custodian}`\n        }\n      </span>\n    </p>\n  )\n}\n\nexport default AccountDetails;\n","import React from 'react';\nimport {observer} from 'mobx-react';\nimport store from 'store';\nimport './Accounts.css';\nimport EditAccount from 'components/EditAccount';\nimport DeleteAccount from 'components/DeleteAccount';\nimport CurrencyIcon from 'components/CurrencyIcon';\nimport AccountDetails from 'components/AccountDetails';\n\nfunction Accounts() {\n  const list = store.accounts.map((account, index) =>\n    <li\n      key={index}\n      className=\"accounts__item\"\n    >\n      <CurrencyIcon\n        currency={account.currency}\n      />\n      <AccountDetails\n        elementClass={'accounts__text-content'}\n        amount={account.amount}\n        type={account.type}\n        custodian={account.custodian}\n      />\n      <EditAccount\n        elementClass={'accounts__edit'}\n        index={index}\n      />\n      <DeleteAccount\n        elementClass={'accounts__delete'}\n        index={index}\n      />\n    </li>\n  );\n  return (\n    <ul className=\"accounts\">{list}</ul>\n  )\n}\n\nexport default observer(Accounts);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.css'\n\nButton.propTypes = {\n  elementClass: PropTypes.string,\n  title: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nfunction Button(\n  {\n    elementClass,\n    onClick,\n    title,\n  }\n) {\n  let classes = 'button';\n  if (elementClass) {\n    classes += ` ${elementClass}`;\n  }\n\n  return (\n    <button\n      className={classes}\n      onClick={onClick}\n    >\n      {title}\n    </button>\n  )\n}\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './StatusMessage.css';\n\nStatusMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nfunction StatusMessage(\n  {\n    message,\n  }\n) {\n  return (\n    <p className=\"status-message\">\n      {message}\n    </p>\n  )\n}\n\nexport default StatusMessage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Rates.css';\nimport {formatNum} from 'currency';\n\nRates.propTypes = {\n  USD: PropTypes.number.isRequired,\n  EUR: PropTypes.number.isRequired,\n};\n\nfunction Rates(\n  {\n    USD,\n    EUR,\n  }\n) {\n  return (\n    <p className=\"rates\">\n      <span className=\"rates__currency\">USD:</span> {USD && formatNum(USD)}\n      , <span className=\"rates__currency\">EUR:</span> {EUR && formatNum(EUR)}\n    </p>\n  )\n}\n\nexport default Rates;\n","import React from 'react';\nimport {observer} from 'mobx-react';\nimport {decorate, computed} from 'mobx';\nimport store from 'store';\nimport './CurrencyChart.css'\nimport {getTotalRUB, getTotalUSD, getTotalEUR, formatNum, getPercentage} from 'currency';\n\nexport default class CurrencyChart extends React.Component {\n  get total() {\n    return getTotalRUB(store.accounts)\n      + getTotalUSD(store.accounts, store.rates.USD)\n      + getTotalEUR(store.accounts, store.rates.EUR);\n  }\n\n  get percentageRUB() {\n    return getPercentage(\n      getTotalRUB(store.accounts),\n      this.total\n    );\n  }\n\n  get percentageUSD() {\n    return getPercentage(\n      getTotalUSD(store.accounts, store.rates.USD),\n      this.total\n    );\n  }\n\n  get percentageEUR() {\n    return getPercentage(\n      getTotalEUR(store.accounts, store.rates.EUR),\n      this.total\n    );\n  }\n\n  render() {\n    return (\n      <section className=\"chart\">\n        <p className=\"chart__wrapper\">\n          <span\n            className=\"chart__bar chart__bar--rub\"\n            style={({\n              width: `${this.percentageRUB}%`\n            })}\n          />\n          <span\n            className=\"chart__bar chart__bar--usd\"\n            style={({\n              width: `${this.percentageUSD}%`\n            })}\n          />\n          <span\n            className=\"chart__bar chart__bar--eur\"\n            style={({\n              width: `${this.percentageEUR}%`\n            })}\n          />\n        </p>\n        <p className=\"chart__legend\">\n          <span className=\"chart__percentage chart__percentage--rub\">\n            RUB: {formatNum(this.percentageRUB)}%\n          </span>\n          <span className=\"chart__percentage chart__percentage--usd\">\n            USD: {formatNum(this.percentageUSD)}%\n          </span>\n          <span className=\"chart__percentage chart__percentage--eur\">\n            EUR: {formatNum(this.percentageEUR)}%\n          </span>\n        </p>\n      </section>\n    );\n  }\n}\n\ndecorate(CurrencyChart, {\n  CurrencyChart: observer,\n  total: computed,\n  percentageRUB: computed,\n  percentageUSD: computed,\n  percentageEUR: computed,\n});\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport {observer} from 'mobx-react';\nimport {decorate} from 'mobx';\nimport store from 'store';\nimport './Overview.css';\nimport Total from 'components/Total';\nimport Accounts from 'components/Accounts';\nimport Button from 'components/Button';\nimport StatusMessage from 'components/StatusMessage';\nimport Rates from 'components/Rates';\nimport CurrencyChart from 'components/CurrencyChart';\n\nexport default class Overview extends React.Component {\n  componentDidMount() {\n    store.loadAccounts();\n    store.loadRates();\n  }\n\n  render() {\n    return (\n      <section className=\"overview\">\n        {\n          (!store.rates.USD || !store.rates.EUR)\n            ? <StatusMessage message=\"Загрузка данных о курсах...\"/>\n            : <Total/>\n        }\n        {\n          (store.accounts.length !== 0) &&\n          <CurrencyChart/>\n        }\n        {\n          (store.accounts.length === 0)\n            ? <StatusMessage message=\"Добавьте счёт чтобы продолжить\"/>\n            : <Accounts/>\n        }\n        <Link\n          to=\"/add/\"\n          className=\"overview__add-account\"\n        >\n          <Button\n            title=\"Добавить счёт\"\n            elementClass=\"button--account\"\n          />\n        </Link>\n        {\n          (store.rates.USD || store.rates.EUR) &&\n            <Rates\n              USD={store.rates.USD}\n              EUR={store.rates.EUR}\n            />\n        }\n      </section>\n    )\n  }\n}\n\ndecorate(Overview, {\n  Overview: observer,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Input.css'\n\nInput.propTypes = {\n  autoComplete: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  min: PropTypes.number,\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  required: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  step: PropTypes.number,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n};\n\nInput.defaultProps = {\n  type: 'text',\n  autoComplete: false,\n};\n\nexport default function Input(\n  {\n    autoComplete,\n    autoFocus,\n    disabled,\n    label,\n    min,\n    name,\n    onChange,\n    placeholder,\n    readOnly,\n    required,\n    step,\n    type,\n    value,\n  }) {\n\n  return (\n    <label className={'input'}>\n      {`${label}:`}\n      <input\n        className={'input__field'}\n        name={name}\n        type={type}\n        step={`${step}`}\n        min={`${min}`}\n        onChange={onChange}\n        value={value}\n        required={required}\n        autoFocus={autoFocus}\n        autoComplete={`${autoComplete}`}\n        readOnly={readOnly}\n        disabled={disabled}\n        placeholder={placeholder}\n      />\n    </label>\n  )\n};\n","import React, {Component} from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport {observer} from 'mobx-react';\nimport {decorate} from 'mobx';\nimport store from 'store';\nimport Input from 'components/Input';\nimport Button from 'components/Button';\nimport './EditForm.css';\n\nexport default class EditForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: {\n        currency: 'RUB',\n        custodian: '',\n        type: '',\n        amount: '',\n      },\n      readyToSubmit: false,\n    };\n  }\n\n  handleInputChange = (evt) => {\n    const target = evt.target;\n    const name = target.name;\n    const value = target.value;\n\n    this.setState(state => ({\n      account: {\n        ...state.account,\n        [name]: value,\n      }\n    }));\n  };\n\n  handleAdd = () => {\n    if (this.index) {\n      store.updateAccount(this.state.account, this.index);\n    } else {\n      store.addAccount(this.state.account);\n    }\n    this.setState({readyToSubmit: true})\n  };\n\n  index = this.props.match.params.index;\n\n  componentDidMount() {\n    // Gets initial state from store if we get an index from route\n    if (this.index) {\n      this.setState({\n        account: {\n          currency: store.accounts[this.index].currency,\n          custodian: store.accounts[this.index].custodian,\n          type: store.accounts[this.index].type,\n          amount: store.accounts[this.index].amount,\n        },\n      });\n    }\n  }\n\n  render() {\n    if (this.state.readyToSubmit) {\n      return <Redirect to=\"/\"/>\n    }\n\n    return (\n      <form className=\"edit-form\">\n        <h2 className=\"edit-form__heading\">\n          {this.index ? 'Редактирование счёта' : 'Добавить счёт'}\n        </h2>\n        <Input\n          className=\"edit-form__input\"\n          label=\"Сумма\"\n          name=\"amount\"\n          onChange={this.handleInputChange}\n          value={this.state.account.amount}\n          required={true}\n          autoFocus={true}\n          type=\"number\"\n          step={0.01}\n          min={0}\n        />\n        <label className=\"edit-form__select\">\n          Валюта\n          <select\n            className=\"edit-form__select-field\"\n            name=\"currency\"\n            value={this.state.account.currency}\n            required={true}\n            onChange={this.handleInputChange}\n          >\n            <option value=\"RUB\">Рубли</option>\n            <option value=\"USD\">Доллары</option>\n            <option value=\"EUR\">Евро</option>\n          </select>\n        </label>\n        <Input\n          className=\"edit-form__input\"\n          label=\"Вид инвестиции\"\n          name=\"type\"\n          onChange={this.handleInputChange}\n          value={this.state.account.type}\n          placeholder=\"Вклад, брокерский счёт\"\n        />\n        <Input\n          className=\"edit-form__input\"\n          label=\"Место хранения\"\n          name=\"custodian\"\n          onChange={this.handleInputChange}\n          value={this.state.account.custodian}\n          placeholder=\"Название банка, брокера\"\n        />\n        <div className=\"edit-form__button-wrap\">\n          <Link\n            to=\"/\"\n            style={{\"text-decoration\": \"none\"}}\n            className={'edit-form__button'}\n          >\n            <Button\n              title={\"Назад\"}\n            />\n          </Link>\n          <Button\n            onClick={this.handleAdd}\n            elementClass={'edit-form__button button--primary'}\n            title={this.index ? 'Сохранить изменения' : 'Добавить счёт'}\n          />\n        </div>\n      </form>\n    )\n  }\n};\n\ndecorate(EditForm, {\n  EditForm: observer,\n});\n","import React, {Component} from 'react';\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom';\nimport {observer} from 'mobx-react';\nimport {decorate} from 'mobx';\nimport Overview from 'components/Overview';\nimport EditForm from 'components/EditForm';\nimport './variables.css';\nimport './page.css';\nimport './App.css';\nimport 'normalize.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <Router>\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              component={Overview}\n            />\n            <Route\n              path=\"/add\"\n              component={EditForm}\n            />\n            <Route\n              path=\"/edit/:index\"\n              component={EditForm}\n            />\n          </Switch>\n        </Router>\n      </div>\n    )\n  }\n};\n\ndecorate(App, {\n  App: observer,\n});\n","import React from 'react';\nimport { render } from 'react-dom';\nimport App from 'components/App';\n\nrender(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}